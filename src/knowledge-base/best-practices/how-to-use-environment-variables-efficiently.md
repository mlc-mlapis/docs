# How to use environment variables efficiently

In general, the use of a direct reference to another service in code is always potentially problematic, especially in those cases where the identification (hostname in our case) of that service may change. The reason for this is that code changes in many places and the following necessary builds and deploys. That's why using a [custom variable](/documentation/environment-variables/overview.html#referencing-environment-variables) that references implicit environment [variables](/documentation/environment-variables/helper-variables.html#mariadb) (automatically generated by Zerops) is always best practice.

For example, if it's necessary to access a **MariaDB** service (with **hostname** set to **==db==**) from a **Node.js** service, a new custom environment variable, like **DEFAULT_DB_CONNECTION_STRING**, should be created with a `${db_connectionString}` formula inside that Node.js service.

![Custom environment variable](./images/Add-a-New-Custom-Variable.png "Add a new custom environment variable")

After that (a service restart is necessary), it's possible to use the following code to get the necessary value.

```javascript
const env = process.env;
const DB_CONNECTION_STRING = env['DEFAULT_DB_CONNECTION_STRING'];
```

When a new MariaDB service is created with a different hostname in the future (with **hostname** set to **==dbnew==**), and you need to switch to it, the only change would be in the definition of that custom variable to `${dbnew_connectionString}`. No application code changes are needed at all.

If **Golang** is used instead of Node.js.

```go
DB_CONNECTION_STRING, variableFound := os.LookupEnv("DEFAULT_DB_CONNECTION_STRING")
```

If **PHP** is used instead of Node.js.

```php
<?php
  $DB_CONNECTION_STRING = getenv('DEFAULT_DB_CONNECTION_STRING');
?>
```
